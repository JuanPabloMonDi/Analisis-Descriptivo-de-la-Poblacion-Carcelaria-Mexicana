{"title":"PCA","markdown":{"yaml":{"title":"PCA","author":"Juan Pablo Montaño & Laura Castiblanco","format":"dashboard","theme":{"light":["simplex","theme/custom.scss"],"dark":["slate","theme/custom-dark.scss"]},"fig-width":8,"fig-asp":0.2,"params":{"month":"October","year":"2024"},"editor_options":{"chunk_output_type":"console"},"scrolling":true},"headingText":"Menú de navegación","containsRefs":false,"markdown":"\n\n```{r}\n#| label: carga-librerias\n#| message: false\n#| echo: false\n#| output: false\nlibrary(tidyverse)\nlibrary(readr)\nlibrary(ggplot2)\nlibrary(plotly)\nlibrary(GGally)\nlibrary(FactoClass)\nlibrary(dplyr)\nlibrary(readxl)\nlibrary(scales)\nlibrary(DT)\nlibrary(gt)\nlibrary(ade4)\nlibrary(RColorBrewer)\ntheme_set(theme_minimal(base_size = 24, base_family = \"Atkinson Hyperlegible\"))\nsource(\"DatosSeleccionados.R\")\nlibrary(hrbrthemes)\n```\n\n\n\n![](images/LogoUnal.png){width=\"90%\" fig-align=\"left\"}\n\n\n::: {.callout-tip icon=\"false\" collapse=\"true\" appearance=\"simple\"}\n### Inicio\n\n-   [Inicio](ResumenIntro.qmd)\n:::\n\n::: {.callout-tip icon=\"false\" collapse=\"true\" appearance=\"simple\"}\n### Marco conceptual\n\n-   [Marco de antecedentes](Antecedentes.qmd)\n-   [Objetivos y justificación](index.qmd)\n-   [Descripción de los datos](Datos.qmd)\n:::\n\n::: {.callout-tip icon=\"false\" collapse=\"true\" appearance=\"simple\"}\n### Análisis descriptivo\n\n-   [Análisis descriptivo univariado](dashboard.qmd)\n-   [Análisis de componentes principales (PCA)](PCA.qmd)\n:::\n\n::: {.callout-tip icon=\"false\" collapse=\"true\" appearance=\"simple\"}\n### Sobre nosotros\n\n-   [Sobre nosotros](about.qmd)\n:::\n\n------------------------------------------------------------------------\n\n------------------------------------------------------------------------\n\n::: {.callout-note collapse=\"true\"}\n## Recordatorio\n\nEste estudio ha sido elaborado en base a los datos que están disponibles de forma pública en sitio web del INEGI. La información completa sobre el procesamiento de datos hecho por la entidad se encuentra disponible en el marco conceptual y diseño muestral de la encuesta, también disponibles para el público.\n:::\n\n\n# PCA 1 \n\n{.tabset}\n## Correlaciones {.tabset}\n```{r}\n#| title: Correlaciones\n#| echo: false\n#| warning: false\n\n#Escogemos las variables cuantitativas\nvarCuantitativas<-c(\"EDAD\",\"NUM_HIJOS\",\"EDAD_CONSUMO_TABACO\",\"EDAD_CONSUMO_ALCOHOL\",\"EDAD_CONSUMO_MARIHUANA\",\"N_PERSONAS_DEPENDIENTES\",\"DINERO_SOBORNO\",\"DELITOS_ABIERTOS\",\"TIEMPO_RECLUIDO\",\"TIEMPO_PROCESO\",\"CANTIDAD_PERSONAS_CELDA\",\"CELDA_HORAS\",\"VECES_SENTENCIADO\")\n\n\nDatosCuantitativos<-Tabla1[,varCuantitativas]\ncorrelaciones<-cor(DatosCuantitativos)\n#correlaciones<-correlaciones[rev(colnames(correlaciones)),]\nTabCorrelaciones<-NULL\nfor (var1 in colnames(correlaciones)){\n  for (var2 in rownames(correlaciones)){\n    fila<-data.frame(variable1=var1,variable2=var2,correlacion=correlaciones[var1,var2])\n    TabCorrelaciones<-rbind(TabCorrelaciones,fila)\n  }\n}\nTabCorrelaciones<-TabCorrelaciones%>%\n  mutate(text = paste0(\"x: \", TabCorrelaciones$variable1, \"\\n\", \"y: \", TabCorrelaciones$variable2, \"\\n\", \"Correlacion:\",round(correlacion,4)))\n\n \n\np <- ggplot(TabCorrelaciones, aes(variable1, variable2, fill= correlacion, text=text)) + \n  geom_tile() +scale_fill_gradient(low=\"#FEF001\", high=\"#F00505\")+\n  theme_ipsum()+theme(axis.text.x=element_text(angle = -90, hjust = 0),\n        axis.ticks.x=element_blank(), #remove x axis ticks\n        axis.ticks.y=element_blank())  #remove y axis ticks\n\nggplotly(p, tooltip=\"text\")\n```\n\n\n\n## Parte 2\n```{r}\n#| title: Parte2\n#| echo: false\n#heatmap(correlaciones, NA, NA,margins = c(2,2))\nacp <- dudi.pca(DatosCuantitativos, scannf = FALSE, nf = 2) # nf indica cuantos ejes voy a conservar\nvalp <- t(inertia(acp)$tot.inertia) # valores propios\nkable(valp, digits = 3)\n```\n\n```{r}\n#| title: Parte3\n#| echo: false\n#barplot(acp$eig, horiz = TRUE) # histograma de valores propios\n#abline(v = 1, lty = 3)\nkable(acp$co, digits = 3)\n#s.corcircle(acp$co)\n#plot(acp, Tcol = FALSE, gg = TRUE)\n\n#9 ejes\n#acp1 <- dudi.pca(DatosCuantitativos, scannf = FALSE, nf = 9) \n#s.corcircle(acp1$co, xax = 5, yax = 8)\n```\n\n\n\n","srcMarkdownNoYaml":"\n\n```{r}\n#| label: carga-librerias\n#| message: false\n#| echo: false\n#| output: false\nlibrary(tidyverse)\nlibrary(readr)\nlibrary(ggplot2)\nlibrary(plotly)\nlibrary(GGally)\nlibrary(FactoClass)\nlibrary(dplyr)\nlibrary(readxl)\nlibrary(scales)\nlibrary(DT)\nlibrary(gt)\nlibrary(ade4)\nlibrary(RColorBrewer)\ntheme_set(theme_minimal(base_size = 24, base_family = \"Atkinson Hyperlegible\"))\nsource(\"DatosSeleccionados.R\")\nlibrary(hrbrthemes)\n```\n\n\n#  {.sidebar}\n\n![](images/LogoUnal.png){width=\"90%\" fig-align=\"left\"}\n\n## Menú de navegación\n\n::: {.callout-tip icon=\"false\" collapse=\"true\" appearance=\"simple\"}\n### Inicio\n\n-   [Inicio](ResumenIntro.qmd)\n:::\n\n::: {.callout-tip icon=\"false\" collapse=\"true\" appearance=\"simple\"}\n### Marco conceptual\n\n-   [Marco de antecedentes](Antecedentes.qmd)\n-   [Objetivos y justificación](index.qmd)\n-   [Descripción de los datos](Datos.qmd)\n:::\n\n::: {.callout-tip icon=\"false\" collapse=\"true\" appearance=\"simple\"}\n### Análisis descriptivo\n\n-   [Análisis descriptivo univariado](dashboard.qmd)\n-   [Análisis de componentes principales (PCA)](PCA.qmd)\n:::\n\n::: {.callout-tip icon=\"false\" collapse=\"true\" appearance=\"simple\"}\n### Sobre nosotros\n\n-   [Sobre nosotros](about.qmd)\n:::\n\n------------------------------------------------------------------------\n\n------------------------------------------------------------------------\n\n::: {.callout-note collapse=\"true\"}\n## Recordatorio\n\nEste estudio ha sido elaborado en base a los datos que están disponibles de forma pública en sitio web del INEGI. La información completa sobre el procesamiento de datos hecho por la entidad se encuentra disponible en el marco conceptual y diseño muestral de la encuesta, también disponibles para el público.\n:::\n\n\n# PCA 1 \n\n{.tabset}\n## Correlaciones {.tabset}\n```{r}\n#| title: Correlaciones\n#| echo: false\n#| warning: false\n\n#Escogemos las variables cuantitativas\nvarCuantitativas<-c(\"EDAD\",\"NUM_HIJOS\",\"EDAD_CONSUMO_TABACO\",\"EDAD_CONSUMO_ALCOHOL\",\"EDAD_CONSUMO_MARIHUANA\",\"N_PERSONAS_DEPENDIENTES\",\"DINERO_SOBORNO\",\"DELITOS_ABIERTOS\",\"TIEMPO_RECLUIDO\",\"TIEMPO_PROCESO\",\"CANTIDAD_PERSONAS_CELDA\",\"CELDA_HORAS\",\"VECES_SENTENCIADO\")\n\n\nDatosCuantitativos<-Tabla1[,varCuantitativas]\ncorrelaciones<-cor(DatosCuantitativos)\n#correlaciones<-correlaciones[rev(colnames(correlaciones)),]\nTabCorrelaciones<-NULL\nfor (var1 in colnames(correlaciones)){\n  for (var2 in rownames(correlaciones)){\n    fila<-data.frame(variable1=var1,variable2=var2,correlacion=correlaciones[var1,var2])\n    TabCorrelaciones<-rbind(TabCorrelaciones,fila)\n  }\n}\nTabCorrelaciones<-TabCorrelaciones%>%\n  mutate(text = paste0(\"x: \", TabCorrelaciones$variable1, \"\\n\", \"y: \", TabCorrelaciones$variable2, \"\\n\", \"Correlacion:\",round(correlacion,4)))\n\n \n\np <- ggplot(TabCorrelaciones, aes(variable1, variable2, fill= correlacion, text=text)) + \n  geom_tile() +scale_fill_gradient(low=\"#FEF001\", high=\"#F00505\")+\n  theme_ipsum()+theme(axis.text.x=element_text(angle = -90, hjust = 0),\n        axis.ticks.x=element_blank(), #remove x axis ticks\n        axis.ticks.y=element_blank())  #remove y axis ticks\n\nggplotly(p, tooltip=\"text\")\n```\n\n\n\n## Parte 2\n```{r}\n#| title: Parte2\n#| echo: false\n#heatmap(correlaciones, NA, NA,margins = c(2,2))\nacp <- dudi.pca(DatosCuantitativos, scannf = FALSE, nf = 2) # nf indica cuantos ejes voy a conservar\nvalp <- t(inertia(acp)$tot.inertia) # valores propios\nkable(valp, digits = 3)\n```\n\n```{r}\n#| title: Parte3\n#| echo: false\n#barplot(acp$eig, horiz = TRUE) # histograma de valores propios\n#abline(v = 1, lty = 3)\nkable(acp$co, digits = 3)\n#s.corcircle(acp$co)\n#plot(acp, Tcol = FALSE, gg = TRUE)\n\n#9 ejes\n#acp1 <- dudi.pca(DatosCuantitativos, scannf = FALSE, nf = 9) \n#s.corcircle(acp1$co, xax = 5, yax = 8)\n```\n\n\n\n"},"formats":{"dashboard":{"identifier":{"display-name":"HTML","target-format":"dashboard","base-format":"dashboard"},"execute":{"fig-width":8,"fig-height":5,"fig-format":"retina","fig-dpi":96,"fig-asp":0.2,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":"all","plotly-connected":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"PCA.html"},"language":{"toc-title-document":"Tabla de contenidos","toc-title-website":"En esta página","related-formats-title":"Otros formatos","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Fuente","other-links-title":"Otros Enlaces","code-links-title":"Enlaces de código","launch-dev-container-title":"Iniciar Dev Container","launch-binder-title":"Iniciar Binder","article-notebook-label":"Cuaderno de Artículo","notebook-preview-download":"Descargar Cuaderno","notebook-preview-download-src":"Descargar código fuente","notebook-preview-back":"Volver al Artículo","manuscript-meca-bundle":"Archivo MECA","section-title-abstract":"Resumen","section-title-appendices":"Apéndices","section-title-footnotes":"Notas","section-title-references":"Referencias","section-title-reuse":"Reutilización","section-title-copyright":"Derechos de autor","section-title-citation":"Cómo citar","appendix-attribution-cite-as":"Por favor, cita este trabajo como:","appendix-attribution-bibtex":"BibTeX","title-block-author-single":"Autor/a","title-block-author-plural":"Autores/as","title-block-affiliation-single":"Afiliación","title-block-affiliation-plural":"Afiliaciones","title-block-published":"Fecha de publicación","title-block-modified":"Fecha de modificación","title-block-keywords":"Palabras clave","callout-tip-title":"Tip","callout-note-title":"Nota","callout-warning-title":"Advertencia","callout-important-title":"Importante","callout-caution-title":"Precaución","code-summary":"Código","code-tools-menu-caption":"Código","code-tools-show-all-code":"Mostrar todo el código","code-tools-hide-all-code":"Ocultar todo el código","code-tools-view-source":"Ver el código fuente","code-tools-source-code":"Ejecutar el código","tools-share":"Compartir","tools-download":"Descargar","code-line":"Línea","code-lines":"Líneas","copy-button-tooltip":"Copiar al portapapeles","copy-button-tooltip-success":"Copiado","repo-action-links-edit":"Editar esta página","repo-action-links-source":"Ver el código","repo-action-links-issue":"Informar de un problema","back-to-top":"Volver arriba","search-no-results-text":"Sin resultados","search-matching-documents-text":"documentos encontrados","search-copy-link-title":"Copiar el enlace en la búsqueda","search-hide-matches-text":"Ocultar resultados adicionales","search-more-match-text":"resultado adicional en este documento","search-more-matches-text":"resultados adicionales en este documento","search-clear-button-title":"Borrar","search-text-placeholder":"","search-detached-cancel-button-title":"Cancelar","search-submit-button-title":"Enviar","search-label":"Buscar","toggle-section":"Alternar sección","toggle-sidebar":"Alternar barra lateral","toggle-dark-mode":"Alternar modo oscuro","toggle-reader-mode":"Alternar modo lector","toggle-navigation":"Navegación de palanca","crossref-fig-title":"Figura","crossref-tbl-title":"Tabla","crossref-lst-title":"Listado","crossref-thm-title":"Teorema","crossref-lem-title":"Lema","crossref-cor-title":"Corolario","crossref-prp-title":"Proposición","crossref-cnj-title":"Conjetura","crossref-def-title":"Definición","crossref-exm-title":"Ejemplo","crossref-exr-title":"Ejercicio","crossref-ch-prefix":"Capítulo","crossref-apx-prefix":"Apéndice","crossref-sec-prefix":"Sección","crossref-eq-prefix":"Ecuación","crossref-lof-title":"Listado de Figuras","crossref-lot-title":"Listado de Tablas","crossref-lol-title":"Listado de Listados","environment-proof-title":"Prueba","environment-remark-title":"Observación","environment-solution-title":"Solución","listing-page-order-by":"Ordenar por","listing-page-order-by-default":"Por defecto","listing-page-order-by-date-asc":"Menos reciente","listing-page-order-by-date-desc":"Más reciente","listing-page-order-by-number-desc":"De mayor a menor","listing-page-order-by-number-asc":"De menor a mayor","listing-page-field-date":"Fecha","listing-page-field-title":"Título","listing-page-field-description":"Descripción","listing-page-field-author":"Autor/a","listing-page-field-filename":"Nombre de archivo","listing-page-field-filemodified":"Fecha de modificación","listing-page-field-subtitle":"Subtítulo","listing-page-field-readingtime":"Tiempo de lectura","listing-page-field-wordcount":"Conteo de Palabras","listing-page-field-categories":"Categorías","listing-page-minutes-compact":"{0} minutos","listing-page-category-all":"Todas","listing-page-no-matches":"No hay resultados","listing-page-words":"{0} palabras"},"metadata":{"lang":"es","fig-responsive":true,"quarto-version":"1.4.549","page-layout":"custom","editor":"visual","title":"PCA","author":"Juan Pablo Montaño & Laura Castiblanco","params":{"month":"October","year":"2024"},"editor_options":{"chunk_output_type":"console"},"scrolling":true},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}